# botank
Библиотека для автоматического тестирования навыков Алисы 
(и в перспективе других чат-ботов).
Засыпаем бота случайными запросами и смотрим, как он справляется.

Библиотека написана на питоне, но ботов дёргает по вебхуку, 
и поэтому сами боты могут быть написаны на любом языке или вообще без языка.

## Самое главное
Для установки необходимо иметь Python>=3.6 и пакетный менеджер pip 
(либо аналог). 
Пока что только так. 

Установка:
```commandline
pip install botank
```

Как запустить:
```commandline
python -m botank http://localhost:5000/alice/ -n 100 -o results.txt
```
При подобном запуске ботанк направит по адресу `http://localhost:5000/alice/` 
100 случайных запросов в навык, и сохранит результат обстрела 
в файл `results.txt`.

## Зачем
Предполагается, что ботанк будет применяться на ранних стадиях разработки
навыка, когда он ещё не испытан "в бою", 
и нужно его перед релизом испытать хоть как-то.

Во-первых, подобный обстрел может помочь протыкать все сценарии диалога
(если для них есть саджесты) и выявить запросы, на которых бот падает. 

Во-вторых, обстрел может выявить запросы, на которых бот отвечает долго.

В-третьих, ботанк (когда мы его допилим) можно будет использовать 
для нагрузочного тестирования, чтобы понимать, под каким RPS навык может выжить.

Ну и сами тексты сгенерированного скриптом диалога, несмотря на его бредовость, 
надеемся, могут навести разработчика бота на плодотворные мысли.


## Как это работает
На каждом шаге ботанк случайным образом выбирает одно из действий:
* нажать на случайную кнопку из предложенных;
* кинуть в бота случайной подстрокой его предыдущего ответа;
* кинуть в бота случайно выбранной фразой из захардкоженного списка.

После заданного числа итераций подобного обстрела выдаётся статистика 
по кодам и времени ответа, а запросы и ответы сохраняются в файл. 
